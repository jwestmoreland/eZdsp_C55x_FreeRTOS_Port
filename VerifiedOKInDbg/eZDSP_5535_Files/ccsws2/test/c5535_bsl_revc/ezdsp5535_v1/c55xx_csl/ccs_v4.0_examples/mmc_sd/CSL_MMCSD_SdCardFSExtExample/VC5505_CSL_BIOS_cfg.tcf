utils.loadPlatform("ti.platforms.evm5505");

/* The following DSP/BIOS Features are enabled.  */
bios.enableRealTimeAnalysis(prog);
bios.enableRtdx(prog);
bios.enableTskManager(prog);

bios.GBL.MEMORYMODEL = "LARGE";
bios.MEM.NOMEMORYHEAPS = 0;
bios.MEM.ARGSSEG = prog.get("SARAM");
bios.MEM.STACKSEG = prog.get("SARAM");
bios.MEM.BSSSEG = prog.get("SARAM");
bios.MEM.CONSTSEG = prog.get("SARAM");
bios.MEM.DATASEG = prog.get("SARAM");
bios.MEM.CIOSEG = prog.get("SARAM");
bios.MEM.instance("SARAM").createHeap = 1;
bios.MEM.BIOSOBJSEG = prog.get("SARAM");
bios.MEM.MALLOCSEG = prog.get("SARAM");
bios.MEM.SYSDATASEG = prog.get("SARAM");
bios.MEM.OBJSEG = prog.get("SARAM");

bios.PRD.USECLK = 0;
bios.CLK.ENABLECLK = 0;
bios.GBL.MODIFYCLKMD = 0;

bios.TSK.create("mainTsk");
bios.TSK.instance("mainTsk").order = 1;
bios.TSK.instance("mainTsk").priority = 7;
bios.TSK.instance("mainTsk").fxn = prog.extern("mmcFileTest");
bios.TSK.instance("mainTsk").priority = 1;
bios.TSK.instance("mainTsk").stackSize = 2048;
bios.TSK.instance("mainTsk").stackSize = 4096;
bios.TSK.instance("mainTsk").stackMemSeg = prog.get("SARAM");
bios.TSK.instance("TSK_idle").order = 1;
bios.TSK.instance("mainTsk").order = 2;
bios.TSK.instance("mainTsk").priority = 10;
bios.SEM.create("SEM_MUSBMainTaskExited");
bios.SEM.create("SEM_AbortTransferDone");
bios.SEM.create("SEM_ConnectDeviceDone");
bios.SEM.create("SEM_ResetDeviceDone");
bios.SEM.create("SEM_MUSBDMARxComplete");
bios.SEM.OBJMEMSEG = prog.get("SARAM");
bios.SEM.create("SEM_ClearEndpointStalltDone");
bios.MBX.create("MBX_musb");
bios.MBX.instance("MBX_musb").messageSize = 2;
bios.MBX.instance("MBX_musb").length = 16;
bios.MBX.instance("MBX_musb").elementSeg = prog.get("SARAM");
bios.MBX.create("MBX_msc");
bios.MBX.instance("MBX_msc").elementSeg = prog.get("SARAM");
bios.MBX.instance("MBX_msc").messageSize = 2;
bios.MBX.instance("MBX_msc").length = 16;
bios.SEM.create("SEM_MUSBMSCTaskExited");
bios.SEM.create("SEM_DisconnectDeviceDone");
bios.MEM.STACKSIZE = 0x0800;
bios.MEM.SYSSTACKSIZE = 0x0200;
bios.TSK.OBJMEMSEG = prog.get("SARAM");
bios.TSK.STACKSEG = prog.get("SARAM");
bios.TSK.STACKSIZE = 2048;
bios.TSK.SYSSTACKSIZE = 2048;
bios.TSK.instance("TSK_idle").stackMemSeg = prog.get("SARAM");
bios.TSK.STACKSIZE = 1024;
bios.TSK.SYSSTACKSIZE = 256;
bios.TSK.instance("TSK_idle").stackMemSeg = prog.get("DARAM");
bios.TSK.instance("TSK_idle").stackMemSeg = prog.get("SARAM");
bios.MEM.STACKSIZE = 0x1000;
bios.MEM.SYSSTACKSIZE = 0x0400;
bios.MEM.ARGSSIZE = 0x0040;
bios.MEM.instance("SARAM").heapSize = 0x8000;
bios.MEM.instance("SARAM").heapSize = 0x3f80;
bios.MEM.STACKSIZE = 0x0800;
bios.MEM.SYSSTACKSIZE = 0x0200;
bios.SEM.create("SEM_I2cDevBusy");
bios.SEM.instance("SEM_I2cDevBusy").comment = "posted when 12c is engaged in a transaction";
bios.SEM.instance("SEM_I2cDevBusy").count = 1;
bios.MEM.instance("SARAM").len = 0x0001;
bios.MEM.instance("VECT").base = 0x027e00;
bios.MEM.instance("SARAM").len = 0x1fe00;
bios.MEM.instance("SARAM").comment = "32 blocks of 8K bytes of on-chip Single-Access RAM";
bios.SEM.create("SEM_RTCAlarmOff");
bios.SEM.instance("SEM_RTCAlarmOff").comment = "Semaphore posted when current time reaches alarm time";
bios.SEM.create("SEM_mmcsd_DMATransferDone");
bios.SEM.instance("SEM_mmcsd_DMATransferDone").destroy();
bios.SEM.create("SEM_mmcsd_dmaTransferDone");
bios.SEM.instance("SEM_mmcsd_dmaTransferDone").comment = "semaphore posted after mmcsd dma transfer is complete";
bios.TSK.instance("mainTsk").priority = 15;
bios.TSK.instance("mainTsk").stackSize = 8192;
bios.TSK.instance("mainTsk").sysStackSize = 512;
bios.TSK.instance("mainTsk").sysStackSize = 1024;
bios.TSK.instance("mainTsk").stackSize = 4096;
bios.TSK.instance("mainTsk").sysStackSize = 256;
bios.MEM.STACKSIZE = 0x1000;
bios.MEM.STACKSIZE = 0x0800;
bios.MEM.SYSSTACKSIZE = 0x0400;
bios.TSK.instance("mainTsk").sysStackSize = 4096;
bios.MEM.STACKSIZE = 0x4096;
bios.TSK.instance("mainTsk").comment = "PSP BIOS Sample Application task";
bios.TSK.instance("mainTsk").stackSize = 5120;
bios.TSK.instance("mainTsk").stackSize = 8192;
bios.TSK.instance("mainTsk").stackSize = 4096;
bios.MEM.ARGSSEG = prog.get("DARAM");
bios.MEM.GBLINITSEG = prog.get("DARAM");
bios.MEM.TRCDATASEG = prog.get("DARAM");
bios.MEM.SYSDATASEG = prog.get("DARAM");
bios.MEM.OBJSEG = prog.get("DARAM");
bios.MEM.STACKSEG = prog.get("DARAM");
bios.MEM.BIOSSEG = prog.get("DARAM");
bios.MEM.SYSINITSEG = prog.get("DARAM");
bios.MEM.HWISEG = prog.get("DARAM");
bios.MEM.RTDXTEXTSEG = prog.get("DARAM");
bios.MEM.instance("DARAM").createHeap = 1;
bios.TSK.instance("mainTsk").stackMemSeg = prog.get("DARAM");
bios.TSK.STACKSEG = prog.get("DARAM");
bios.TSK.instance("TSK_idle").stackMemSeg = prog.get("DARAM");
bios.TSK.instance("mainTsk").stackMemSeg = prog.get("SARAM");
bios.TSK.instance("TSK_idle").stackMemSeg = prog.get("SARAM");
bios.MEM.STACKSEG = prog.get("SARAM");
bios.MEM.CINITSEG = prog.get("DARAM");
bios.MEM.CONSTSEG = prog.get("SARAM");
bios.MEM.CIOSEG = prog.get("SARAM");
bios.MEM.SWITCHSEG = prog.get("DARAM");
bios.SEM.OBJMEMSEG = prog.get("DARAM");
bios.MBX.instance("MBX_msc").elementSeg = prog.get("DARAM");
bios.MBX.instance("MBX_msc").comment = "MSC Mailbox";
bios.MBX.instance("MBX_musb").comment = "MUSB Mailbox";
bios.MBX.instance("MBX_musb").elementSeg = prog.get("DARAM");
bios.TSK.OBJMEMSEG = prog.get("DARAM");
bios.TSK.instance("mainTsk").stackMemSeg = prog.get("DARAM");
bios.TSK.instance("mainTsk").stackMemSeg = prog.get("SARAM");
bios.MEM.instance("SARAM").heapSize = 0x3f00;
bios.MEM.instance("SARAM").heapSize = 0x3f80;
bios.MEM.CIOSEG = prog.get("DARAM");
bios.MEM.PINITSEG = prog.get("DARAM");
bios.MEM.BIOSOBJSEG = prog.get("DARAM");
bios.MEM.MALLOCSEG = prog.get("DARAM");
bios.MEM.instance("SARAM").heapSize = 0x396a;
bios.MEM.instance("SARAM").heapSize = 0x3f80;
bios.MEM.REUSECODESPACE = 0;
bios.MEM.STACKSIZE = 0x0400;
bios.MEM.SYSSTACKSIZE = 0x0200;
bios.MEM.TEXTSEG = prog.get("SARAM");
// !GRAPHICAL_CONFIG_TOOL_SCRIPT_INSERT_POINT!

prog.gen();

