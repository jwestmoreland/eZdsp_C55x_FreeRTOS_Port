<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>C55XX CSL EXAMPLE: I2S EXAMPLE DOCUMENTATION</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">C55XX CSL EXAMPLE</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">I2S EXAMPLE DOCUMENTATION </div>  </div>
</div>
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="I2S1"></a>
I2S EXAMPLE1 - POLL MODE TEST</h2>
<h3><a class="anchor" id="I2S1x"></a>
TEST DESCRIPTION:</h3>
<p>This test verifies the operation of CSL I2S module in polled mode. I2S module on C5505/C5515 DSP is used to exchange the audio data between the audio codec and DSP.</p>
<p>Testing of the I2S with the audio codec is not possible as codec is not part of the CSL package. This test verifies the I2S operation in loopback mode. In loopback mode of operation data written to the I2S data transmit registers will be transmitted to the I2S data receive registers. I2S is configured to master mode, stereo, 16bit data length and to loop back mode. I2S data transfer is enabled and the data is transferred to the I2S using I2S_write() API. After successful completion of I2S write data is read from the I2S using I2S_read() API. I2S write and read buffers are compared for the data verification.</p>
<p>NOTE: THIS TEST HAS BEEN DEVELOPED TO WORK WITH CHIP VERSIONS C5505 AND C5515. MAKE SURE THAT PROPER CHIP VERSION MACRO IS DEFINED IN THE FILE c55xx_csl\inc\csl_general.h.</p>
<h3><a class="anchor" id="I2S1y"></a>
TEST PROCEDURE:</h3>
<ul>
<li>Open the CCS and connect the target (C5505/C5515 EVM) </li>
<li>Open the project "CSL_I2S_PollExample_out.pjt" and build it </li>
<li>Load the program on to the target </li>
<li>Set the PLL frequency to 12.288MHz </li>
<li>Run the program and observe the test result </li>
<li>Repeat the test at PLL frequencies 40, 60, 75 and 100MHz </li>
<li>Repeat the test in Release mode</li>
</ul>
<h3><a class="anchor" id="I2S1z"></a>
TEST RESULT:</h3>
<ul>
<li>All the CSL APIs should return success </li>
<li>Read and write data buffer comparison should be successful.</li>
</ul>
<p>============================================================================</p>
<h2><a class="anchor" id="I2S2"></a>
I2S EXAMPLE2 - DMA MODE TEST</h2>
<h3><a class="anchor" id="I2S2x"></a>
TEST DESCRIPTION:</h3>
<p>This test verifies the operation of CSL I2S module in DMA mode. I2S module on C5505/C5515 DSP is used to exchange the audio data between the audio codec and DSP.</p>
<p>Testing of the I2S with the audio codec is not possible as codec is not part of the CSL package. This test verifies the I2S operation in loopback mode. In loopback mode of operation data written to the I2S data transmit registers will be transmitted to the I2S data receive registers. CSL DMA module should be configured for the I2S Tx and Rx operations. DMA module is used to transfer the data between CPU memory and I2S data registers. I2S is configured to master mode, stereo, 16bit data length and to loop back mode. Due to word swap behavior of the DMA while transferring the data to/from I2S, I2S write data buffer should be word swapped before transferring it to the I2S registers. In case of I2S no word swap is required on the data received due internal word swap by the I2S in loopback mode. I2S data transfer is enabled and DMA is started using DMA_start() API. DMA writes the data to the I2s Tx registers. After successful completion of write operation DMA is configured for Rx operation and again started to read the data from I2S Rx registers. I2S write and read buffers are compared for the data verification.</p>
<p>NOTE: THIS TEST HAS BEEN DEVELOPED TO WORK WITH CHIP VERSIONS C5505 AND C5515. MAKE SURE THAT PROPER CHIP VERSION MACRO IS DEFINED IN THE FILE c55xx_csl\inc\csl_general.h.</p>
<h3><a class="anchor" id="I2S2y"></a>
TEST PROCEDURE:</h3>
<ul>
<li>Open the CCS and connect the target (C5505/C5515 EVM) </li>
<li>Open the project "CSL_I2S_DMAExampale_Out.pjt" and build it </li>
<li>Load the program on to the target </li>
<li>Set the PLL frequency to 12.288MHz </li>
<li>Run the program and observe the test result </li>
<li>Repeat the test at PLL frequencies 40, 60, 75 and 100MHz </li>
<li>Repeat the test in Release mode</li>
</ul>
<h3><a class="anchor" id="I2S2z"></a>
TEST RESULT:</h3>
<ul>
<li>All the CSL APIs should return success </li>
<li>Read and write data buffer comparison should be successful.</li>
</ul>
<p>============================================================================</p>
<h2><a class="anchor" id="I2S3"></a>
I2S EXAMPLE3 - INTERRUPT MODE TEST</h2>
<h3><a class="anchor" id="I2S3x"></a>
TEST DESCRIPTION:</h3>
<p>This test verifies the operation of CSL I2S module in interrupt mode. I2S module on C5505/C5515 DSP is used to exchange the audio data between the audio codec and DSP.</p>
<p>Testing of the I2S with the audio codec is not possible as codec is not part of the CSL package. This test verifies the I2S operation in loopback mode. In loopback mode of operation data written to the I2S data transmit registers will be transmitted to the I2S data receive registers. CSL INTC module should be configured and I2S ISR should be registered before starting the data transfer. Separate ISRs are registered for I2S Tx and Rx. Interrupts are used to check the Tx/Rx status of the I2S. I2S is configured to master mode,stereo, 16bit data length and to loop back mode. When the I2S data transfer is enabled I2S starts generating the Tx interrupts. Data is written to the I2S Tx registers in the ISR 'i2s_txIsr'. As the I2S is configured in loopback mode when the data is written to Tx register it will be transmitted to Rx register and Rx interrupt will be generated. Data will be read from the I2S Rx registers in the ISR 'i2s_rxIsr'.I2S write and read buffers are compared for the data verification.</p>
<p>NOTE: THIS TEST HAS BEEN DEVELOPED TO WORK WITH CHIP VERSIONS C5505 AND C5515. MAKE SURE THAT PROPER CHIP VERSION MACRO IS DEFINED IN THE FILE c55xx_csl\inc\csl_general.h.</p>
<h3><a class="anchor" id="I2S3y"></a>
TEST PROCEDURE:</h3>
<ul>
<li>Open the CCS and connect the target (C5505/C5515 EVM) </li>
<li>Open the project "CSL_I2S_INTCExample_Out.pjt" and build it </li>
<li>Load the program on to the target </li>
<li>Set the PLL frequency to 12.288MHz </li>
<li>Run the program and observe the test result </li>
<li>Repeat the test at PLL frequencies 40, 60, 75 and 100MHz </li>
<li>Repeat the test in Release mode</li>
</ul>
<h3><a class="anchor" id="I2S3z"></a>
TEST RESULT:</h3>
<ul>
<li>All the CSL APIs should return success </li>
<li>Read and write data buffer comparison should be successful. </li>
</ul>
</div></div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Jun 23 2011 15:26:19 for C55XX CSL EXAMPLE by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
